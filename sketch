#!/usr/bin/env python

import curses
import atexit


# initialize window
stdscr = curses.initscr()

# set up terminal
curses.noecho()
curses.cbreak()
stdscr.keypad(True)
try:
    curses.start_color()
except:
    pass

# reset terminal up on exit
atexit.register(lambda: (
    curses.echo(),
    curses.nocbreak(),
    stdscr.keypad(False),
    curses.endwin()
))

# set up bounds
max_y, max_x = stdscr.getmaxyx()
max_y = max_y - 2
max_x = max_x - 2

# add border
stdscr.border()
stdscr.move(1, 1)

# draw loop
while True:
    y, x = stdscr.getyx()

    stdscr.addstr("â–ˆ")

    stdscr.move(y, x)

    key = stdscr.getkey()

    match key:
        case "w":
            stdscr.move(max(y - 1, 1), x)
        case "a":
            stdscr.move(y, max(x - 1, 1))
        case "s":
            stdscr.move(min(y + 1, max_y), x)
        case "d":
            stdscr.move(y, min(x + 1, max_x))
